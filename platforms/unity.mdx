---
title: "Unity Integration"
description: "How to integrate x402 payments in Unity using Gx402 middleware patterns."
icon : "unity"
---

# Unity Integration
Gx402 shows how to integrate **x402** payments into Unity projects using engine-native UI and wallet connectors (WalletConnect, browser wallets for WebGL). We provide example Unity scripts, a test scene, and an Express middleware example to handle server-side verification and x402 calls.

---

## Prerequisites
- Unity 2020.3 LTS or newer (2021+ recommended)  
- A WalletConnect plugin for Unity (or a compatible wallet bridge) for standalone builds  
- Phantom or browser wallet for WebGL builds  
- A running Express backend following the Gx402 middleware pattern

---

## High-level flow
1. Player taps **Buy** in Unity.  
2. Unity calls your middleware `/create-payment`. Backend builds the signable `payload` (and optionally registers with x402).  
3. Unity launches wallet flow (WalletConnect or browser). User signs `payload`.  
4. Unity posts `signature` to `/confirm-payment`. Backend verifies signature and calls x402 confirm/finalize.  
5. Backend responds and/or webhook notifies final status. Unity grants the item.

---

## Unity pseudocode (C#)
```csharp
// Unity - simple async flow (concept)
async Task StartPurchase(string itemId) {
  var createRes = await HttpClient.PostJsonAsync("/create-payment", new { itemId, playerAddress });
  string payload = createRes.payload;
  string paymentId = createRes.paymentId;

  // Use WalletConnect plugin to sign
  string signature = await WalletConnect.SignMessage(payload);

  var confirmRes = await HttpClient.PostJsonAsync("/confirm-payment", new { paymentId, signature });
  if (confirmRes.status == "finalized") {
    GrantItem(itemId);
  } else {
    ShowError(confirmRes.error || "Payment failed");
  }
}
