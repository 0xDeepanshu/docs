---
title: "WebGL Integration"
description: "How to integrate x402 payments into WebGL builds (browser) with Gx402 middleware."
icon: "browser"
---

# WebGL Integration

WebGL builds run in the browser and can reuse standard web wallet tools (MetaMask, WalletConnect). Gx402 patterns make the flow identical to other platforms: call middleware → sign payload → confirm → finalize.

---

## Prerequisites
- WebGL export from Unity (or any Web build)  
- Browser wallets (Phantom) or WalletConnect support  
- A Gx402 Express middleware backend

---

## Flow summary
1. WebGL client calls `/create-payment`.  
2. Backend formats payload and returns it.  
3. In-browser wallet (MetaMask/WalletConnect) signs payload.  
4. Client posts `signature` to `/confirm-payment`.  
5. Backend calls x402 and returns status.

---

## Web client example (JavaScript)
```js
async function startPayment(itemId) {
  const create = await fetch('/create-payment', { method:'POST', body: JSON.stringify({ itemId }) }).then(r=>r.json());
  const payload = create.payload;

  // MetaMask example (simple)
  const accounts = await ethereum.request({ method: 'eth_requestAccounts' });
  const signer = accounts[0];
  const signature = await ethereum.request({ method: 'personal_sign', params: [payload, signer] });

  const confirm = await fetch('/confirm-payment', { method:'POST', body: JSON.stringify({ paymentId: create.paymentId, signature }) }).then(r=>r.json());
  if (confirm.status === 'finalized') grantItem();
}
